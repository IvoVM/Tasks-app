<div class="d-flex align-items-center justify-content-center flex-column">
  <h1>Nuevo usuario</h1>
  <form
    class="d-flex align-items-center justify-content-center flex-column mt-3 form"
    [formGroup]="form"
  >
    <!-- Nombre -->
    <mat-form-field appearance="fill">
      <mat-label>Nombre</mat-label>
      <input matInput class="form-input" type="text" formControlName="first_name" />
      <mat-error *ngIf="form.get('nombre')?.hasError('required')"
        >El nombre es obligatorio.</mat-error
      >
      <mat-error *ngIf="form.get('nombre')?.hasError('maxlength')"
        >El nombre no debe superar los 50 caracteres.</mat-error
      >
    </mat-form-field>

    <!-- Apellido -->
    <mat-form-field appearance="fill">
      <mat-label>Apellido</mat-label>
      <input
        matInput
        class="form-input"
        type="text"
        formControlName="last_name"
      />
      <mat-error *ngIf="form.get('apellido')?.hasError('required')"
        >El apellido es obligatorio.</mat-error
      >
      <mat-error *ngIf="form.get('apellido')?.hasError('maxlength')"
        >El apellido no debe superar los 50 caracteres.</mat-error
      >
    </mat-form-field>

    <!-- Email -->
    <mat-form-field appearance="fill">
      <mat-label>Email</mat-label>
      <input matInput class="form-input" type="email" formControlName="email" />
      <mat-error *ngIf="form.get('email')?.hasError('required')"
        >El email es obligatorio.</mat-error
      >
      <mat-error *ngIf="form.get('email')?.hasError('email')"
        >Ingresa un email válido.</mat-error
      >
    </mat-form-field>

    <!-- Contraseña -->
    <mat-form-field appearance="fill">
      <mat-label>Contraseña</mat-label>
      <input
        matInput
        class="form-input"
        type="password"
        formControlName="password"
      />
      <mat-icon matSuffix>lock</mat-icon>
      <mat-error *ngIf="form.get('password')?.hasError('required')"
        >La contraseña es obligatoria.</mat-error
      >
    </mat-form-field>

    <!-- Repetición de Contraseña -->
    <mat-form-field appearance="fill">
      <mat-label>Repetir Contraseña</mat-label>
      <input
        matInput
        class="form-input"
        type="password"
        formControlName="repeatPassword"
      />
      <mat-icon matSuffix>lock</mat-icon>
      <mat-error
        *ngIf="
          form.get('repeatPassword')?.hasError('required') ||
          form.get('repeatPassword')?.value !== form.get('password')?.value
        "
        >Debes repetir la contraseña correctamente.</mat-error
      >
    </mat-form-field>

    <button class="btn mb-4 input login-btn" (click)="register()">
      Registrarse
    </button>
  </form>
  <p class="mt-2">
    ¿Ya estás registrado? <a routerLink="/login">Ir al inicio de sesión</a>
  </p>
</div>
