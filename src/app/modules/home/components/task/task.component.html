<div class="card justify-content-between">
  <div class="top pointer">
    <div class="d-flex justify-content-between align-items-start">
      <div
        class="d-flex justify-content-between align-items-start pointer"
        [routerLink]="['/task', data.id]"
      >
        <!-- icons -->
        <div
          class="d-flex flex-column justify-content-between align-items-center"
        >
          <div class="mb-3">
            <svg
              width="17"
              height="17"
              viewBox="0 0 14 14"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M1.33333 13.6667C0.966667 13.6667 0.652778 13.5361 0.391667 13.275C0.130556 13.0139 0 12.7 0 12.3333V3C0 2.63334 0.130556 2.31945 0.391667 2.05834C0.652778 1.79722 0.966667 1.66667 1.33333 1.66667H2V1C2 0.811114 2.06389 0.65278 2.19167 0.525003C2.31944 0.397225 2.47778 0.333336 2.66667 0.333336C2.85556 0.333336 3.01389 0.397225 3.14167 0.525003C3.26944 0.65278 3.33333 0.811114 3.33333 1V1.66667H8.66667V1C8.66667 0.811114 8.73056 0.65278 8.85833 0.525003C8.98611 0.397225 9.14444 0.333336 9.33333 0.333336C9.52222 0.333336 9.68056 0.397225 9.80833 0.525003C9.93611 0.65278 10 0.811114 10 1V1.66667H10.6667C11.0333 1.66667 11.3472 1.79722 11.6083 2.05834C11.8694 2.31945 12 2.63334 12 3V5.68334C12 5.87222 11.9361 6.03056 11.8083 6.15834C11.6806 6.28611 11.5222 6.35 11.3333 6.35C11.1444 6.35 10.9861 6.28611 10.8583 6.15834C10.7306 6.03056 10.6667 5.87222 10.6667 5.68334V5.66667H1.33333V12.3333H5.33333C5.52222 12.3333 5.68056 12.3972 5.80833 12.525C5.93611 12.6528 6 12.8111 6 13C6 13.1889 5.93611 13.3472 5.80833 13.475C5.68056 13.6028 5.52222 13.6667 5.33333 13.6667H1.33333ZM1.33333 4.33334H10.6667V3H1.33333V4.33334ZM7.33333 13V11.9C7.33333 11.8111 7.35 11.725 7.38333 11.6417C7.41667 11.5583 7.46667 11.4833 7.53333 11.4167L11.0167 7.95C11.1167 7.85 11.2278 7.77778 11.35 7.73334C11.4722 7.68889 11.5944 7.66667 11.7167 7.66667C11.85 7.66667 11.9778 7.69167 12.1 7.74167C12.2222 7.79167 12.3333 7.86667 12.4333 7.96667L13.05 8.58333C13.1389 8.68334 13.2083 8.79445 13.2583 8.91667C13.3083 9.03889 13.3333 9.16111 13.3333 9.28334C13.3333 9.40556 13.3111 9.53056 13.2667 9.65834C13.2222 9.78611 13.15 9.9 13.05 10L9.58333 13.4667C9.51667 13.5333 9.44167 13.5833 9.35833 13.6167C9.275 13.65 9.18889 13.6667 9.1 13.6667H8C7.81111 13.6667 7.65278 13.6028 7.525 13.475C7.39722 13.3472 7.33333 13.1889 7.33333 13ZM8.33333 12.6667H8.96667L10.9833 10.6333L10.6833 10.3167L10.3667 10.0167L8.33333 12.0333V12.6667ZM10.6833 10.3167L10.3667 10.0167L10.9833 10.6333L10.6833 10.3167Z"
                fill="black"
              />
            </svg>
          </div>
          <ng-container *ngIf="data.creation_date">
            <div class="mb-3">
              <svg
                width="25"
                height="17"
                viewBox="0 0 12 14"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style="margin-right: 3px"
              >
                <path
                  d="M1.60002 13.4C1.27002 13.4 0.987524 13.2806 0.752524 13.0417C0.517524 12.8028 0.400024 12.5222 0.400024 12.2V3.4C0.400024 3.07778 0.517524 2.79722 0.752524 2.55833C0.987524 2.31944 1.27002 2.2 1.60002 2.2H2.80002V1.2C2.80002 1.03 2.85719 0.887498 2.97151 0.772498C3.08584 0.657498 3.22751 0.599998 3.39651 0.599998C3.56552 0.599998 3.70836 0.657498 3.82502 0.772498C3.94169 0.887498 4.00002 1.03 4.00002 1.2V2.2H8.00002V1.2C8.00002 1.03 8.05719 0.887498 8.17151 0.772498C8.28584 0.657498 8.42751 0.599998 8.59651 0.599998C8.76552 0.599998 8.90836 0.657498 9.02502 0.772498C9.14169 0.887498 9.20002 1.03 9.20002 1.2V2.2H10.4C10.73 2.2 11.0125 2.31944 11.2475 2.55833C11.4825 2.79722 11.6 3.07778 11.6 3.4V12.2C11.6 12.5222 11.4825 12.8028 11.2475 13.0417C11.0125 13.2806 10.73 13.4 10.4 13.4H1.60002ZM1.60002 12.2H10.4V6.2H1.60002V12.2ZM1.60002 5H10.4V3.4H1.60002V5Z"
                  fill="black"
                />
              </svg>
            </div>
          </ng-container>

          <div class="mb-3">
            <svg
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_179_24"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="25"
                height="20"
              >
                <rect width="20" height="20" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_179_24)">
                <path
                  d="M7.99653 10.4C8.16554 10.4 8.30838 10.3428 8.42505 10.2285C8.54172 10.1142 8.60005 9.97252 8.60005 9.80352C8.60005 9.63451 8.54289 9.49167 8.42857 9.375C8.31423 9.25833 8.17257 9.2 8.00357 9.2C7.83455 9.2 7.69172 9.25716 7.57505 9.37148C7.45838 9.48582 7.40005 9.62748 7.40005 9.79648C7.40005 9.9655 7.45721 10.1083 7.57153 10.225C7.68587 10.3417 7.82753 10.4 7.99653 10.4ZM7.99653 8C8.16554 8 8.30838 7.9425 8.42505 7.8275C8.54172 7.7125 8.60005 7.57 8.60005 7.4V5.4C8.60005 5.23 8.54289 5.0875 8.42857 4.9725C8.31423 4.8575 8.17257 4.8 8.00357 4.8C7.83455 4.8 7.69172 4.8575 7.57505 4.9725C7.45838 5.0875 7.40005 5.23 7.40005 5.4V7.4C7.40005 7.57 7.45721 7.7125 7.57153 7.8275C7.68587 7.9425 7.82753 8 7.99653 8ZM8.00005 14.3333C7.93338 14.3333 7.86672 14.3306 7.80005 14.325C7.73338 14.3194 7.67227 14.3056 7.61672 14.2833C6.16116 13.8056 4.99449 12.9222 4.11672 11.6333C3.23894 10.3444 2.80005 8.93889 2.80005 7.41667V4.41667C2.80005 4.16453 2.86949 3.93761 3.00838 3.7359C3.14727 3.53419 3.33338 3.38889 3.56672 3.3L7.56672 1.76667C7.71116 1.71111 7.8556 1.68333 8.00005 1.68333C8.14449 1.68333 8.28894 1.71111 8.43338 1.76667L12.4334 3.3C12.6667 3.38889 12.8528 3.53419 12.9917 3.7359C13.1306 3.93761 13.2 4.16453 13.2 4.41667V7.41667C13.2 8.93889 12.7612 10.3444 11.8834 11.6333C11.0056 12.9222 9.83894 13.8056 8.38338 14.2833C8.32783 14.3056 8.26672 14.3194 8.20005 14.325C8.13338 14.3306 8.06672 14.3333 8.00005 14.3333ZM8.00005 13.15C9.1556 12.7917 10.1112 12.075 10.8667 11C11.6223 9.925 12 8.73056 12 7.41667V4.41667L8.00005 2.88333L4.00005 4.41667V7.41667C4.00005 8.73056 4.37783 9.925 5.13338 11C5.88894 12.075 6.84449 12.7917 8.00005 13.15Z"
                  fill="black"
                />
              </g>
            </svg>
          </div>

          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <mask
              id="mask0_179_35"
              style="mask-type: alpha"
              maskUnits="userSpaceOnUse"
              x="0"
              y="0"
              width="16"
              height="16"
            >
              <rect width="16" height="16" fill="#D9D9D9" />
            </mask>
            <g mask="url(#mask0_179_35)">
              <path
                d="M10.9 10.7833L13.2667 8.41667C13.4 8.28334 13.5556 8.21945 13.7334 8.225C13.9112 8.23056 14.0667 8.3 14.2 8.43334C14.3223 8.56667 14.3834 8.72223 14.3834 8.9C14.3834 9.07778 14.3223 9.23334 14.2 9.36667L11.3834 12.2C11.25 12.3333 11.0945 12.4 10.9167 12.4C10.7389 12.4 10.5834 12.3333 10.45 12.2L9.01671 10.7667C8.89448 10.6444 8.83337 10.4889 8.83337 10.3C8.83337 10.1111 8.89448 9.95556 9.01671 9.83334C9.13893 9.71111 9.29449 9.65 9.48337 9.65C9.67226 9.65 9.82782 9.71111 9.95004 9.83334L10.9 10.7833ZM10.9 5.45L13.2667 3.08334C13.4 2.95 13.5556 2.88611 13.7334 2.89167C13.9112 2.89723 14.0667 2.96667 14.2 3.1C14.3223 3.23334 14.3834 3.38889 14.3834 3.56667C14.3834 3.74445 14.3223 3.9 14.2 4.03334L11.3834 6.86667C11.25 7 11.0945 7.06667 10.9167 7.06667C10.7389 7.06667 10.5834 7 10.45 6.86667L9.01671 5.43334C8.89448 5.31111 8.83337 5.15556 8.83337 4.96667C8.83337 4.77778 8.89448 4.62223 9.01671 4.5C9.13893 4.37778 9.29449 4.31667 9.48337 4.31667C9.67226 4.31667 9.82782 4.37778 9.95004 4.5L10.9 5.45ZM2.00004 11.3333C1.81115 11.3333 1.65282 11.2694 1.52504 11.1417C1.39726 11.0139 1.33337 10.8556 1.33337 10.6667C1.33337 10.4778 1.39726 10.3194 1.52504 10.1917C1.65282 10.0639 1.81115 10 2.00004 10H6.66671C6.8556 10 7.01393 10.0639 7.14171 10.1917C7.26948 10.3194 7.33337 10.4778 7.33337 10.6667C7.33337 10.8556 7.26948 11.0139 7.14171 11.1417C7.01393 11.2694 6.8556 11.3333 6.66671 11.3333H2.00004ZM2.00004 6C1.81115 6 1.65282 5.93611 1.52504 5.80834C1.39726 5.68056 1.33337 5.52223 1.33337 5.33334C1.33337 5.14445 1.39726 4.98611 1.52504 4.85834C1.65282 4.73056 1.81115 4.66667 2.00004 4.66667H6.66671C6.8556 4.66667 7.01393 4.73056 7.14171 4.85834C7.26948 4.98611 7.33337 5.14445 7.33337 5.33334C7.33337 5.52223 7.26948 5.68056 7.14171 5.80834C7.01393 5.93611 6.8556 6 6.66671 6H2.00004Z"
                fill="black"
              />
            </g>
          </svg>
        </div>
        <!-- column 1 -->
        <div class="ml-1">
          <p class="mb-3 text-size-12">
            {{ data.last_update_date | dateFormat }}
          </p>
          <ng-container *ngIf="data.creation_date">
            <p class="mb-3 text-size-12">
              {{ data.creation_date | dateFormat }}
            </p>
          </ng-container>
          <p class="mb-3 text-size-12">Prioridad:</p>
          <p class="mb-0 text-size-12">Categoria:</p>
        </div>
        <!-- column 2 -->
        <div>
          <p class="mb-3 text-size-12 mx-2">
            {{ data.last_update_date | timeFormat }} <span>(Editado)</span>
          </p>
          <ng-container *ngIf="data.creation_date">
            <p class="mb-3 text-size-12 mx-2">
              {{ data.creation_date | timeFormat }} <span>(Creado)</span>
            </p>
          </ng-container>

          <p class="mb-3 text-size-12 priority-badge">
            <span>{{ data.priority }}</span>
          </p>
          <p class="mb-0 text-size-12 ml-2">{{ data.category }}</p>
        </div>
      </div>

      <!-- checkbox -->
      <mat-checkbox
        [color]="'primary'"
        [checked]="data.is_completed ? data.is_completed : false"
        (click)="onCheckboxChange($event)"
      ></mat-checkbox>
    </div>

    <div class="task" [routerLink]="['/task', data.id]">
      <p class="h3 text-black mb-2 mx-1 mt-4 pointer">
        {{ data.title | truncateText : 25 }}
      </p>
      <p class="text-grey mx-1 mt-3 task-text">
        {{ data.description | truncateText : 85 }}
      </p>
    </div>
  </div>

  <div class="footer bg-light">
    <div class="d-flex justify-content-between align-items-center px-4">
      <div class="d-flex align-items-center">
        <div class="mx- pointer">
          <img
            src="../../../assets/icons/edit-icon.svg"
            width="20"
            height="20"
            [routerLink]="['/editTask', data.title, data.id]"
          />
        </div>
        <div class="pointer mx-2">
          <img
            src="../../../assets/icons/trash-icon.svg"
            width="20"
            height="20"
            (click)="openDeleteModal()"
          />
        </div>
      </div>
      <div class="pointer arrow">
        <svg
          width="18"
          height="18"
          viewBox="0 0 15 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.75 7.89999H1.69942C1.44461 7.89999 1.23101 7.81425 1.05862 7.64277C0.886241 7.47127 0.800049 7.25877 0.800049 7.00527C0.800049 6.75175 0.886241 6.53749 1.05862 6.36249C1.23101 6.18749 1.44461 6.09999 1.69942 6.09999H11.75L7.34475 1.69469C7.16495 1.51489 7.07505 1.30416 7.07505 1.06249C7.07505 0.820827 7.16672 0.604343 7.35005 0.413043C7.53338 0.237677 7.74588 0.149994 7.98755 0.149994C8.22922 0.149994 8.44012 0.240178 8.62027 0.420544L14.5649 6.37269C14.655 6.46288 14.7209 6.56058 14.7625 6.66579C14.8042 6.77101 14.825 6.88374 14.825 7.00399C14.825 7.12423 14.8042 7.23695 14.7625 7.34217C14.7209 7.44739 14.6584 7.54166 14.575 7.62499L8.62505 13.575C8.44172 13.7583 8.23338 13.8458 8.00005 13.8375C7.76672 13.8292 7.55838 13.7373 7.37505 13.5619C7.19172 13.3706 7.10005 13.1528 7.10005 12.9083C7.10005 12.6639 7.19172 12.4528 7.37505 12.275L11.75 7.89999Z"
            fill="#5230FF"
          />
        </svg>
      </div>
    </div>
  </div>
</div>
